<!DOCTYPE html>
<html>

<head>

</head>

<body>
    <div id="load">
        <h3>Ajax Demo</h3>
        <p>this demo depend on a local fileserver,you can start a fileserver via the file_server.go.</p>
        <button onclick="loadDoc()" style="font-size: 20px">click me to get data from server</button>
    </div>
    <div id="mockresp" style="display:none">
        <h2>AJAX</h2>
        <p>AJAX is not a programming language. </p>
        <p>AJAX is a technique for accessing web servers using (browser built-in) XMLHttpRequest,and process http
            response Asynchronous(via callback function). </p>
        <p>AJAX stands for Asynchronous JavaScript And XML </p>
        <a href="https://www.w3schools.com/js/js_ajax_intro.asp">How Ajax Works!</a>
    </div>

    <script>
        function loadDoc() {
            var req = new XMLHttpRequest();
            //set callback function to process resp data
            req.onreadystatechange = function () {
                var ele = document.getElementById("load")
                // ele.innerHTML = document.getElementById("mockresp").innerHTML
                //如果要access resp body(this指向resp),这里需要考虑cors policy,比如:当前页面的domain和request url保持一致;
                ele.innerHTML = this.responseText;
            };
            //先在本地起一个fileserver(go 源码参考 file_server.go)
            req.open("GET", "http://127.0.0.1:8088/README.md", true);
            req.send();
        }
    </script>
</body>

</html>